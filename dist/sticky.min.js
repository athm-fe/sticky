/*!
 * @autofe/sticky v0.1.0
 * (c) 2018 Autohome Inc.
 * Released under the MIT License.
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],o):(t.AutoFE=t.AutoFE||{},t.AutoFE.Sticky=o(t.jQuery))}(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var t="sticky",e="fe.sticky",o="."+e,i=n.fn[t],h={TOP:"top"+o,BOTTOM:"bottom"+o,OFF:"off"+o,SCROLL:"scroll"+o};function s(t,o){this.options=n.extend({},s.Default,o),this.$elem=n(t),this.$target=n(window),this.$placeholder=null,this.initPosition=null,this.isActive=!1,this.isInit=!1;var i=this.options.offset;"object"!=typeof i&&(i=this.options.offset={top:i}),null!=this.options.offsetTop&&(i.top=this.options.offsetTop),null!=this.options.offsetBottom&&(i.bottom=this.options.offsetBottom),"function"==typeof i.top&&(i.top=i.top.call(this.$elem)),"function"==typeof i.bottom&&(i.bottom=i.bottom.call(this.$elem)),null==i.top&&null==i.bottom&&(i.top=0),this.$target.on(h.SCROLL,n.proxy(this.checkPosition,this)),this.checkPosition()}function f(i){return this.each(function(){var t=n(this),o=t.data(e);o||(o=new s(this,n.extend({},s.Default,t.data(),"object"==typeof i&&i)),t.data(e,o));if("string"==typeof i){if("undefined"==typeof o[i])throw new TypeError('No method named "'+i+'"');o[i]()}})}return s.Default={},s.prototype.checkPosition=function(){if(this.$elem.is(":visible")){var t=this.$elem.outerHeight(),o=this.initPosition,i=this.$target.scrollTop(),e=this.$target.height(),s=this.options.offset;!1===this.isInit&&(this.$placeholder=n("<div>").css({height:t,display:"none"}),this.$elem.after(this.$placeholder),o=this.initPosition=this.$elem.offset(),this.isInit=!0),null!=s.top&&i+s.top>o.top?this.isActive||(this.$elem.css({position:"fixed",top:s.top,bottom:""}),this.$placeholder.show(),this.isActive=!0,this.$elem.trigger(h.TOP)):null!=s.bottom&&o.top+t>i+e-s.bottom?this.isActive||(this.$elem.css({position:"fixed",top:"",bottom:s.bottom}),this.$placeholder.show(),this.isActive=!0,this.$elem.trigger(h.BOTTOM)):this.isActive&&(this.$elem.css({position:"",top:"",bottom:""}),this.$placeholder.hide(),this.isActive=!1,this.$elem.trigger(h.OFF))}},n.fn[t]=f,n.fn[t].Constructor=s,n.fn[t].noConflict=function(){return n.fn[t]=i,f},s});